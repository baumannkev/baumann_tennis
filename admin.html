<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Admin</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>

    <link href="styles/index.css" rel="stylesheet">

    <link rel="shortcut icon"
        href="https://firebasestorage.googleapis.com/v0/b/baumanntennis-af590.appspot.com/o/pictures%2FIcons%2Fandroid-chrome-512x512.png?alt=media&token=5f943206-2ca5-4130-881b-e4c4ed1a21e2"
        type="image/x-icon" />

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/26da0e4274.js" crossorigin="anonymous"></script>

    <!-- <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
    </script> -->

    <!-- <script type="text/javascript" src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script> -->

    <!-- this file was moved after the jQuery Datatables library was laoded -->
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.9/js/dataTables.bootstrap.min.js"></script>


<body data-bs-spy="scroll" data-bs-target="#navbarCollapse" data-bs-offset="auto" tabindex="0">
    <header>
        <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-light rounded">
            <div class="container-fluid">
                <a class="navbar-brand" href="#"><img
                        src="https://firebasestorage.googleapis.com/v0/b/baumanntennis-af590.appspot.com/o/pictures%2FIcons%2FBAUMANN%20TENNIS.png?alt=media&token=ed3487eb-d643-4b5d-b8d3-bdf18d768a1f"
                        alt="" width="60" height="70.97" class="d-inline-block align-text-center">
                    BaumannTennis</a>
                <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div id="navbarCollapse" class="navbar-collapse collapse justify-content-end ">

                    <ul class="navbar-nav">
                        <span class="logged-in" id="logout">
                            <li class="logged-in nav-item d-flex" style="display: none;">
                                <button href="#" class="btn btn-border shadow grey-text" id="logout">Cerrar
                                    sesión</button>
                            </li>
                        </span>
                        <span class="logged-out">
                            <li class="nav-item d-flex logged-out" style="display: none;">
                                <button href="#" class="btn btn-border shadow grey-text" data-bs-toggle="modal"
                                    data-bs-target="#modal-login">Inicia sesión</button>
                            </li>
                        </span>
                        <span class="logged-out">
                            <li class="nav-item d-flex logged-out" style="display: none;">
                                <button href="#" class="btn btn-border shadow grey-text " data-bs-toggle="modal"
                                    data-bs-target="#modal-signup">Únete</button>
                            </li>
                        </span>
                        <span class="logged-out">
                            <li class="nav-item d-flex">
                                <button class="btn btn-border shadow"><a href="index.html">Inicio</a></button>
                            </li>
                        </span>
                        <span class="logged-in">
                            <li class="nav-item d-flex">
                                <button class="btn btn-border shadow"><a href="index.html"
                                        style="color: white;">Inicio</a></button>
                            </li>
                        </span>
                        <span class="logged-in">
                            <li class="nav-item d-flex">
                                <button class="btn btn-border shadow"><a href="registrar.html" style="color: white;">A
                                        Registrar</a></button>
                            </li>
                        </span>
                        <span class="logged-out">
                            <li class="nav-item d-flex">
                                <button class="btn btn-border shadow"><a href="registrar.html" style="color: white;">A
                                        Registrar</a></button>
                            </li>
                        </span>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main>

        <div class="container" style="padding-top: 5rem">
            <p class="text-center" id="welcomeMessage"><span class="usersName"></span></p>
        </div>
        <!-- Table for schedule -->
        <!-- <div class="container table-responsive">
            <table
                class="table align-middle table-sm table-success table-striped table-hover caption-top table-bordered">
                <caption>Editar</caption>
                <thead class="table-light">
                    <th scope="col">Hora</th>
                    <th scope="col">Lunes</th>
                    <th scope="col">Martes</th>
                    <th scope="col">Miercoles</th>
                    <th scope="col">Jueves</th>
                    <th scope="col">Viernes</th>
                    <th scope="col">Sabado</th>
                    <th scope="col">Domingo</th>
                </thead>
                <tbody id="tbody1">

                </tbody>
            </table>
        </div> -->
        <!--  -->
        <!-- SIGN UP MODAL -->
        <div id="modal-signup" class="modal fade" tabindex="-1" aria-labelledby="signUpModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content container-fluid d-flex justify-content-center align-items-center h-100">
                    <div class="modal-header">
                        <h5 class="modal-title text-center" id="exampleModalLabel">Únete</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body text-center">
                        <div class="d-grid gap-2">
                            <form id="signup-form" class="needs-validation" style="padding-top: 2rem" novalidate>
                                <div class="mb-3">
                                    <label for="signup-email" class="form-label">Email</label>
                                    <div class="input-group has-validation">
                                        <input type="email" id="signup-email" class="form-control" placeholder="Email"
                                            aria-describedby="inputGroupPrepend" required>
                                        <div class="invalid-feedback">
                                            Por favor escribi tu email.
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="signup-password" class="form-label">Contraseña</label>
                                    <div class="input-group has-validation">
                                        <input type="password" id="signup-password" class="form-control"
                                            placeholder="Contraseña" required>
                                        <div class="invalid-feedback">
                                            Por favor escribi tu contraseña.
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="signup-firstName" class="form-label">Nombre</label>
                                    <div class="input-group has-validation">
                                        <input type="text" id="signup-firstName" class="form-control"
                                            placeholder="Nombre" required>
                                        <div class="invalid-feedback">
                                            Por favor escribi tu nombre.
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="signup-lastName" class="form-label">Apellido</label>
                                    <div class="input-group has-validation">
                                        <input type="text" id="signup-lastName" class="form-control"
                                            placeholder="Apellido" required>
                                        <div class="invalid-feedback">
                                            Por favor escribi tu apellido.
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="signup-phone" class="form-label">Numero Celular</label>
                                    <div class="input-group has-validation">
                                        <input type="text" id="signup-phone" class="form-control"
                                            placeholder="778-387-5139" required>
                                        <div class="invalid-feedback">
                                            Por favor escribi tu numero celular.
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Atras</button>
                                    <button class="btn btn-warning darken-2 z-depth-0">Únete</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- LOGIN MODAL -->
        <div id="modal-login" class="modal fade" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content container-fluid d-flex justify-content-center align-items-center h-100">
                    <div class="modal-header">
                        <h5 class="modal-title text-center" id="loginModalLabel">Iniciar Sesión</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body text-center">
                        <div class="d-grid gap-2">
                            <form id="login-form" class="needs-validation" style="padding-top: 2rem" novalidate>
                                <div class="mb-3">
                                    <label for="login-email" class="form-label">Email</label>
                                    <div class="input-group has-validation">
                                        <input type="email" id="login-email" class="form-control" placeholder="Email"
                                            aria-describedby="inputGroupPrepend" required />
                                        <div class="invalid-feedback">
                                            Por favor escribi tu email.
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="login-password" class="form-label">Tu contraseña</label>
                                    <div class="input-group has-validation">
                                        <input type="password" id="login-password" class="form-control"
                                            placeholder="Contraseña" aria-describedby="inputGroupPrepend" required />
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Atras</button>
                                        <button class="btn yellow darken-2 z-depth-0">Iniciar sesión</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CREATE GUIDE MODAL -->
        <!-- ----------------------------------------------------------------->
        <!---------------------REGISTRAR CLASES ----------------------->

        <hr class="featurette-divider">

        <!---------------------EDIT CLASES ----------------------->

        <!-- <link rel="stylesheet"href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css"> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script type="text/javascript">

            $(document).ready(function ($) {
                //ajax row data
                var ajax_data = SelectAllData;
                // [
                //     { fname: "Code", lname: "With Mark", email: "mark@codewithmark.com" },
                //     { hora: "Mary", lname: "Moe", email: "mary@gmail.com" },
                //     { hora: "John", lname: "Doe", email: "john@yahoo.com" },
                //     { hora: "Julie", lname: "Dooley", email: "julie@gmail.com" },
                //     { hora: "Code", lname: "With Mark", email: "mark@codewithmark.com" },
                //     { hora: "Mary", lname: "Moe", email: "mary@gmail.com" },
                //     { hora: "John", lname: "Doe", email: "john@yahoo.com" },
                // ]



                var random_id = function () {
                    var id_num = Math.random().toString(9).substr(2, 3);
                    var id_str = Math.random().toString(36).substr(2);

                    return id_num + id_str;
                }


                //--->create data table > start
                var tbl = '';
                tbl += '<div class = "container table-responsive">'
                tbl += '<table class="table align-middle table-sm table-striped table-hover caption-top table-bordered" id = "tbody1">'

                //--->create table header > start
                tbl += '<caption>Editar Tabla de Usuario</caption>';
                tbl += '<thead>';
                tbl += '<tr>';
                tbl += '<th>Hora</th>';
                tbl += '<th>Lunes</th>';
                tbl += '<th>Martes</th>';
                tbl += '<th>Miercoles</th>';
                tbl += '<th>Jueves</th>';
                tbl += '<th>Viernes</th>';
                tbl += '<th>Sabado</th>';
                tbl += '<th>Domingo</th>';
                // tbl += '<th>Options</th>';
                tbl += '</tr>';
                tbl += '</thead>';
                //--->create table header > end


                //--->create table body > start
                tbl += '<tbody1>';

                //--->create table body rows > start

                //--->edit options > end

                //--->create table body rows > end

                tbl += '</tbody1>';
                //--->create table body > end

                tbl += '</table>'
                tbl += '</div>'
                //--->create data table > end

                //out put table data
                $(document).find('.tbl_user_data').html(tbl);

                // $(document).find('.btn_save').hide();
                // $(document).find('.btn_cancel').hide();


                //--->make div editable > start
                $(document).on('click', '.row_data', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    //make div editable
                    $(this).closest('div').attr('contenteditable', 'true');
                    //add bg css
                    $(this).addClass('bg-warning').css('padding', '5px');

                    $(this).focus();
                })
                //--->make div editable > end

                //--->make div editable STADO > start
                $(document).on('click', '.row_data_stado', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    //make div editable
                    $(this).closest('span').attr('contenteditable', 'true');
                    //add bg css
                    $(this).addClass('bg-warning').css('padding', '5px');

                    $(this).focus();
                })

                //--->make div editable CAPACITY > start
                $(document).on('click', '.row_data_capacity', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    //make div editable
                    $(this).closest('span').attr('contenteditable', 'true');
                    //add bg css
                    $(this).addClass('bg-warning').css('padding', '5px');

                    $(this).focus();
                })

                //--->make div editable MEMBERS > start
                $(document).on('click', '.row_data_membersNumbers', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    //make div editable
                    $(this).closest('span').attr('contenteditable', 'true');
                    //add bg css
                    $(this).addClass('bg-warning').css('padding', '5px');

                    $(this).focus();
                })

                //--->make div editable Precio > start
                $(document).on('click', '.row_data_precio', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    //make div editable
                    $(this).closest('span').attr('contenteditable', 'true');
                    //add bg css
                    $(this).addClass('bg-warning').css('padding', '5px');

                    $(this).focus();
                })

                //--->save single field data > start
                $(document).on('focusout', '.row_data', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    var row_id = $(this).closest('tr').attr('row_id');

                    var row_div = $(this)
                        .removeClass('bg-warning') //add bg css
                        .css('padding', '')

                    var col_name = row_div.attr('col_name');
                    var col_val = row_div.html();

                    var arr = {};
                    arr[col_name] = col_val;

                    //use the "arr"	object for your ajax call
                    $.extend(arr, { row_id: row_id });


                    // Get a key for a new Post.
                    // var newPostKey = firebase.database().ref().child('status').push().key;

                    // Write the new post's data simultaneously in the posts list and the user's post list.
                    var updates = {};
                    updates['/classes/' + col_name + '/status'] = col_val;
                    // col_name="0' + rowCounter + 'AM/monday">'
                    // updates['/user-posts/' + uid + '/' + newPostKey] = postData;

                    firebase.database().ref().update(updates);

                    // updateDatabaseTable(col_val);

                    //out put to show
                    $('.post_msg').html('<pre class="container">Description' + JSON.stringify(arr, null, 2) + '</pre>');

                })
                //--->save single field data > end
                //--->save single field data > start
                $(document).on('focusout', '.row_data_stado', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    var row_id_stado = $(this).closest('tr').attr('row_id_stado');

                    var row_div_stado = $(this)
                        .removeClass('bg-warning') //add bg css
                        .css('padding', '')

                    var col_name_stado = row_div_stado.attr('col_name_stado');
                    var col_val_stado = row_div_stado.html();

                    var arr_stado = {};
                    arr_stado[col_name_stado] = col_val_stado;

                    //use the "arr"	object for your ajax call
                    $.extend(arr_stado, { row_id_stado: row_id_stado });

                    // Write the new post's data simultaneously in the posts list and the user's post list.
                    var updatesStado = {};
                    updatesStado['/classes/' + col_name_stado + '/stado'] = col_val_stado;
                    // col_name="0' + rowCounter + 'AM/monday">'
                    // updates['/user-posts/' + uid + '/' + newPostKey] = postData;

                    firebase.database().ref().update(updatesStado);

                    // updateDatabaseTable(col_val);

                    //out put to show
                    $('.post_msg').html('<pre class="container">Stado' + JSON.stringify(arr_stado, null, 2) + '</pre>');

                })

                $(document).on('focusout', '.row_data_precio', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    var row_id_precio = $(this).closest('tr').attr('row_id_stado');

                    var row_div_precio = $(this)
                        .removeClass('bg-warning') //add bg css
                        .css('padding', '')

                    var col_name_precio = row_div_precio.attr('col_name_precio');
                    var col_val_precio = row_div_precio.html();

                    var arr_precio = {};
                    arr_precio[col_name_precio] = col_val_precio;

                    //use the "arr"	object for your ajax call
                    $.extend(arr_precio, { row_id_precio: row_id_precio });

                    // Write the new post's data simultaneously in the posts list and the user's post list.
                    var updatesPrecio = {};
                    updatesPrecio['/classes/' + col_name_precio + '/precio'] = col_val_precio;
                    // col_name="0' + rowCounter + 'AM/monday">'
                    // updates['/user-posts/' + uid + '/' + newPostKey] = postData;

                    firebase.database().ref().update(updatesPrecio);

                    //out put to show
                    $('.post_msg').html('<pre class="container">Precio' + JSON.stringify(arr_precio, null, 2) + '</pre>');

                })

                $(document).on('focusout', '.row_data_capacity', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    var row_id_capacity = $(this).closest('tr').attr('row_id_stado');

                    var row_div_capacity = $(this)
                        .removeClass('bg-warning') //add bg css
                        .css('padding', '')

                    var col_name_capacity = row_div_capacity.attr('col_name_capacity');
                    var col_val_capacity = row_div_capacity.html();

                    var arr_capacity = {};
                    arr_capacity[col_name_capacity] = col_val_capacity;

                    //use the "arr"	object for your ajax call
                    $.extend(arr_capacity, { row_id_capacity: row_id_capacity });

                    // Write the new post's data simultaneously in the posts list and the user's post list.
                    var updatesCapacity = {};
                    updatesCapacity['/classes/' + col_name_capacity + '/capacity'] = col_val_capacity;
                    // col_name="0' + rowCounter + 'AM/monday">'
                    // updates['/user-posts/' + uid + '/' + newPostKey] = postData;

                    firebase.database().ref().update(updatesCapacity);

                    //out put to show
                    $('.post_msg').html('<pre class="container">Capacity' + JSON.stringify(arr_capacity, null, 2) + '</pre>');

                })

                // Members updates
                $(document).on('focusout', '.row_data_membersNumbers', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    var row_id_membersNumbers = $(this).closest('tr').attr('row_id_stado');
                    var row_id_percentage = $(this).closest('tr').attr('row_id_stado');

                    var row_div_membersNumbers = $(this)
                        .removeClass('bg-warning') //add bg css
                        .css('padding', '')

                    var row_div_percentage = $(this)
                        .removeClass('bg-warning') //add bg css
                        .css('padding', '')

                    var col_name_membersNumbers = row_div_membersNumbers.attr('col_name_membersNumbers');
                    var col_val_membersNumbers = row_div_membersNumbers.html();

                    var col_name_capacity = row_div_membersNumbers.attr('col_name_capacity');
                    var col_val_capacity = row_div_membersNumbers.html();

                    var col_name_percentage = row_div_percentage.attr('col_name_percentage');
                    var col_val_percentage = row_div_percentage.html();

                    var arr_membersNumbers = {};
                    arr_membersNumbers[col_name_membersNumbers] = col_val_membersNumbers;

                    //use the "arr"	object for your ajax call
                    $.extend(arr_membersNumbers, { row_id_membersNumbers: row_id_membersNumbers });

                    var arr_percentage = {};
                    arr_percentage[col_name_percentage] = col_val_percentage;

                    //use the "arr"	object for your ajax call
                    $.extend(arr_percentage, { row_id_percentage: row_id_percentage });

                    var percentage = document.querySelector(".row_data_percentage").textContent;

                    // Write the new post's data simultaneously in the posts list and the user's post list.
                    var updatesMembersNumbers = {};
                    updatesMembersNumbers['/classes/' + col_name_membersNumbers + '/miembros'] = col_val_membersNumbers;

                    var updatesPercentage = {};
                    // updatesPercentage['/classes/' + col_name_membersNumbers + '/percentage'] = (col_val_membersNumbers / col_val_capacity) * 100;
                    updatesPercentage['/classes/' + col_name_membersNumbers + '/percentage'] = percentage;
                    // col_name="0' + rowCounter + 'AM/monday">'
                    // updates['/user-posts/' + uid + '/' + newPostKey] = postData;

                    firebase.database().ref().update(updatesMembersNumbers);

                    //out put to show
                    $('.post_msg').html('<pre class="container">Member Numbers' + JSON.stringify(arr_membersNumbers, null, 2) + '</pre>');

                })

                //PERCENTAGE 
                $(document).on('focusout', '.row_data_membersNumbers', function (event) {
                    event.preventDefault();

                    if ($(this).attr('edit_type') == 'button') {
                        return false;
                    }

                    var row_id_membersNumbers = $(this).closest('tr').attr('row_id_stado');
                    var row_id_percentage = $(this).closest('tr').attr('row_id_stado');

                    var row_div_membersNumbers = $(this)
                        .removeClass('bg-warning') //add bg css
                        .css('padding', '')

                    var row_div_percentage = $(this)
                        .removeClass('bg-warning') //add bg css
                        .css('padding', '')

                    var col_name_membersNumbers = row_div_membersNumbers.attr('col_name_membersNumbers');
                    var col_val_membersNumbers = row_div_membersNumbers.html();

                    var col_name_capacity = row_div_membersNumbers.attr('col_name_capacity');
                    var col_val_capacity = row_div_membersNumbers.html();

                    var col_name_percentage = row_div_percentage.attr('col_name_percentage');
                    var col_val_percentage = row_div_percentage.html();

                    var arr_membersNumbers = {};
                    arr_membersNumbers[col_name_membersNumbers] = col_val_membersNumbers;

                    //use the "arr"	object for your ajax call
                    $.extend(arr_membersNumbers, { row_id_membersNumbers: row_id_membersNumbers });

                    var arr_percentage = {};
                    arr_percentage[col_name_percentage] = col_val_percentage;

                    //use the "arr"	object for your ajax call
                    $.extend(arr_percentage, { row_id_percentage: row_id_percentage });

                    var percentage = document.querySelector(".row_data_percentage").textContent;

                    // Get a key for a new Post.
                    // Write the new post's data simultaneously in the posts list and the user's post list.
                    var updatesMembersNumbers = {};
                    updatesMembersNumbers['/classes/' + col_name_membersNumbers + '/miembros'] = col_val_membersNumbers;

                    var percentageRef = firebase.database().ref();
                    percentageRef.on('child_changed', (data) => {
                        addPercentageElement(data.val().miembros.text);
                    });


                    function addPercentageElement(memberos) {
                        var updatesPercentage = {};
                        updatesPercentage['/classes/' + col_name_membersNumbers + '/percentage'] = memberos;
                        firebase.database().ref().update(updatesPercentage);
                    };

                    //out put to show
                    $('.post_msg').html('<pre class="container">Member Numbers' + JSON.stringify(arr_membersNumbers, null, 2) + '</pre>');

                })
            });

            function SelectAllData() {
                firebase.database().ref('classes').once('value',
                    function (AllRecords) {
                        AllRecords.forEach(
                            function (CurrentRecord) {

                                // Status
                                var monday07Status = CurrentRecord.val().monday.status;

                                var tuesday07Status = CurrentRecord.val().tuesday.status;

                                var wed07Status = CurrentRecord.val().wednesday.status;

                                var thurs07Status = CurrentRecord.val().thursday.status;

                                var fri07Status = CurrentRecord.val().friday.status;

                                var sat07Status = CurrentRecord.val().saturday.status;

                                var sun07Status = CurrentRecord.val().sunday.status;

                                // Capacity
                                var monday07Capacity = CurrentRecord.val().monday.capacity;

                                var tuesday07Capacity = CurrentRecord.val().tuesday.capacity;

                                var wed07Capacity = CurrentRecord.val().wednesday.capacity;

                                var thurs07Capacity = CurrentRecord.val().thursday.capacity;

                                var fri07Capacity = CurrentRecord.val().friday.capacity;

                                var sat07Capacity = CurrentRecord.val().saturday.capacity;

                                var sun07Capacity = CurrentRecord.val().sunday.capacity;

                                // 07 AM 
                                var monday07Stado = CurrentRecord.val().monday.stado;

                                var tuesday07Stado = CurrentRecord.val().tuesday.stado;

                                var wed07Stado = CurrentRecord.val().wednesday.stado;

                                var thurs07Stado = CurrentRecord.val().thursday.stado;

                                var fri07Stado = CurrentRecord.val().friday.stado;

                                var sat07Stado = CurrentRecord.val().saturday.stado;

                                var sun07Stado = CurrentRecord.val().sunday.stado;

                                // Members
                                var monday07MembersNumbers = CurrentRecord.val().monday.miembros;

                                var tuesday07MembersNumbers = CurrentRecord.val().tuesday.miembros;

                                var wed07MembersNumbers = CurrentRecord.val().wednesday.miembros;

                                var thurs07MembersNumbers = CurrentRecord.val().thursday.miembros;

                                var fri07MembersNumbers = CurrentRecord.val().friday.miembros;

                                var sat07MembersNumbers = CurrentRecord.val().saturday.miembros;

                                var sun07MembersNumbers = CurrentRecord.val().sunday.miembros;

                                // Percentage
                                // var monday07MembersPercentage = CurrentRecord.val().monday.percentage;

                                var monday07MembersPercentage = (monday07MembersNumbers / monday07Capacity) * 100;

                                var tuesday07MembersPercentage = (tuesday07MembersNumbers / tuesday07Capacity) * 100;

                                var wed07MembersPercentage = (wed07MembersNumbers / wed07Capacity) * 100;

                                var thurs07MembersPercentage = (thurs07MembersNumbers / thurs07Capacity) * 100;

                                var fri07MembersPercentage = (fri07MembersNumbers / fri07Capacity) * 100;

                                var sat07MembersPercentage = (sat07MembersNumbers / sat07Capacity) * 100;

                                var sun07MembersPercentage = (sun07MembersNumbers / sun07Capacity) * 100;

                                // Members
                                var monday07Precio = CurrentRecord.val().monday.precio;

                                var tuesday07Precio = CurrentRecord.val().tuesday.precio;

                                var wed07Precio = CurrentRecord.val().wednesday.precio;

                                var thurs07Precio = CurrentRecord.val().thursday.precio;

                                var fri07Precio = CurrentRecord.val().friday.precio;

                                var sat07Precio = CurrentRecord.val().saturday.precio;

                                var sun07Precio = CurrentRecord.val().sunday.precio;

                                // Get Users registered

                                // var monFirstName;
                                // firebase.database().ref('classes/06AM/monday/patrons').once('value',
                                //     function (snapshot) {
                                //         var patrons = snapshot.val();
                                //         var monFirstName = patrons.firstName;
                                //         console.log("Name: " + monFirstName);
                                //     });
                                // var mon07Patrons = CurrentRecord.val().monday.patrons;
                                // var firstNames = CurrentRecord.val();
                                // var name = firstNames.firstName;

                                AddItemsToTable(
                                    // firstHourHour, firstHourStatus, secondHourHour,
                                    // secondHourStatus, thirdHourHour, thirdHourStatus,
                                    monday07Status,
                                    tuesday07Status,
                                    wed07Status,
                                    thurs07Status,
                                    fri07Status,
                                    sat07Status,
                                    sun07Status,
                                    monday07Stado,
                                    tuesday07Stado,
                                    wed07Stado,
                                    thurs07Stado,
                                    fri07Stado,
                                    sat07Stado,
                                    sun07Stado,
                                    monday07Capacity,
                                    tuesday07Capacity,
                                    wed07Capacity,
                                    thurs07Capacity,
                                    fri07Capacity,
                                    sat07Capacity,
                                    sun07Capacity,
                                    monday07MembersNumbers,
                                    tuesday07MembersNumbers,
                                    wed07MembersNumbers,
                                    thurs07MembersNumbers,
                                    fri07MembersNumbers,
                                    sat07MembersNumbers,
                                    sun07MembersNumbers,
                                    monday07MembersPercentage,
                                    tuesday07MembersPercentage,
                                    wed07MembersPercentage,
                                    thurs07MembersPercentage,
                                    fri07MembersPercentage,
                                    sat07MembersPercentage,
                                    sun07MembersPercentage,
                                    monday07Precio,
                                    tuesday07Precio,
                                    wed07Precio,
                                    thurs07Precio,
                                    fri07Precio,
                                    sat07Precio,
                                    sun07Precio,
                                    // monFirstName,
                                );

                            }
                        );
                    });
            }

            window.onload = SelectAllData;

            // updateTables();
            var counterStart = 6;
            var counterEnd = 7;

            var rowCounter = 6;

            var idCounter = 0;

            // var PMTime = "PM";
            var AMTime = "AM";
            var AMTimeNumber = "0";

            var row_id = random_id();
            function AddItemsToTable(
                // firstHourTime, firstHourStatusTag, secondHourTime,
                // secondHourStatusTag, thirdHourTime, thirdHourStatusTag,
                monday07StatusTag,
                tuesday07StatusTag,
                wed07StatusTag,
                thurs07StatusTag,
                fri07StatusTag,
                sat07StatusTag,
                sun07StatusTag,
                monday07Stado,
                tuesday07Stado,
                wed07Stado,
                thurs07Stado,
                fri07Stado,
                sat07Stado,
                sun07Stado,
                monday07Capacity,
                tuesday07Capacity,
                wed07Capacity,
                thurs07Capacity,
                fri07Capacity,
                sat07Capacity,
                sun07Capacity,
                monday07MembersNumbers,
                tuesday07MembersNumbers,
                wed07MembersNumbers,
                thurs07MembersNumbers,
                fri07MembersNumbers,
                sat07MembersNumbers,
                sun07MembersNumbers,
                monday07MembersPercentage,
                tuesday07MembersPercentage,
                wed07MembersPercentage,
                thurs07MembersPercentage,
                fri07MembersPercentage,
                sat07MembersPercentage,
                sun07MembersPercentage,
                monday07Precio,
                tuesday07Precio,
                wed07Precio,
                thurs07Precio,
                fri07Precio,
                sat07Precio,
                sun07Precio,
                // monFirstName,
            ) {

                var tbody = document.getElementById('tbody1');
                var trow = document.createElement('tr');
                var td1 = document.createElement('td');
                var td2 = document.createElement('td');
                var td3 = document.createElement('td');
                var td4 = document.createElement('td');
                var td5 = document.createElement('td');
                var td6 = document.createElement('td');
                var td7 = document.createElement('td');
                // var td8 = document.createElement('td');

                if (rowCounter < 12) {
                    AMTime = 'AM';
                } else { AMTime = 'PM'; }

                if (rowCounter < 10) {
                    AMTimeNumber = "0";
                } else { AMTimeNumber = ""; }

                // console.log("Name: " + monFirstName)
                // var myUserId = firebase.auth().currentUser.uid;
                // var topUserPostsRef = firebase.database().ref('classes').orderByChild('' + AMTimeNumber + rowCounter + AMTime + '/sunday/patrons/' + '/firstName');

                var myDataRef = firebase.database().ref('classes/' + AMTimeNumber + rowCounter + AMTime + '/monday/patrons');

                // var key = myDataRef.key;
                // //Get users registered
                // function getUsers(dataRef) {
                //     var firstName;
                //     var lastName;
                //     dataRef.on('child_added', function (snapshot) {
                //         var message = snapshot.val();
                //         var id = snapshot.key;
                //         firstName = message.firstName;
                //         lastName = message.lastName;
                //         console.log(firstName, lastName);
                //     });
                //     return firstName;
                // }

                // var usersNames = getUsers(myDataRef);
                // console.log(usersNames);

                td1.innerHTML = '<td ><div class="row_data" edit_type="click" col_name="' + AMTimeNumber + rowCounter + AMTime + '/monday">' + monday07StatusTag + '</div></td></br></br><span class="row_data_stado" row_id_stado="' + row_id + '" edit_type="click" col_name_stado="' + AMTimeNumber + rowCounter + AMTime + '/monday">' + monday07Stado + '</span></br><span>Precio: </span><span class="row_data_precio" edit_type="click" col_name_precio="' + AMTimeNumber + rowCounter + AMTime + '/monday">' + monday07Precio + 'Gs</span></br><span>Capacity: </span><span class="row_data_capacity" edit_type="click" col_name_capacity="' + AMTimeNumber + rowCounter + AMTime + '/monday">' + monday07Capacity + '</span></br></br><span>Member Numbers: </span><span class="row_data_membersNumbers" edit_type="click" col_name_membersNumbers="' + AMTimeNumber + rowCounter + AMTime + '/monday">' + monday07MembersNumbers + '</span></br></br><span>Porcentaje Lleno: </span><span class="row_data_percentage" edit_type="click" col_name_percentage="' + AMTimeNumber + rowCounter + AMTime + '/monday">' + monday07MembersPercentage + '%</span></td>';
                td2.innerHTML = '<td ><div class="row_data" edit_type="click" col_name="' + AMTimeNumber + rowCounter + AMTime + '/tuesday">' + tuesday07StatusTag + '</div></td></br></br><span class="row_data_stado" row_id_stado="' + row_id + '" edit_type="click" col_name_stado="' + AMTimeNumber + rowCounter + AMTime + '/tuesday">' + tuesday07Stado + '</span><span>Precio: </span><span class="row_data_precio" edit_type="click" col_name_precio="' + AMTimeNumber + rowCounter + AMTime + '/tuesday">' + tuesday07Precio + 'Gs</span></br></br><span>Capacity: </span><span class="row_data_capacity" edit_type="click" col_name_capacity="' + AMTimeNumber + rowCounter + AMTime + '/tuesday">' + tuesday07Capacity + '</span></br></br><span>Member Numbers: </span><span class="row_data_membersNumbers" edit_type="click" col_name_membersNumbers="' + AMTimeNumber + rowCounter + AMTime + '/tuesday">' + tuesday07MembersNumbers + '</span></br></br><span>Porcentaje Lleno: </span><span class="row_data_percentage" edit_type="click" col_name_percentage="' + AMTimeNumber + rowCounter + AMTime + '/tuesday">' + tuesday07MembersPercentage + '%</span></td>';
                td3.innerHTML = '<td ><div class="row_data" edit_type="click" col_name="' + AMTimeNumber + rowCounter + AMTime + '/wednesday">' + wed07StatusTag + '</div></td></br></br><span class="row_data_stado" row_id_stado="' + row_id + '" edit_type="click" col_name_stado="' + AMTimeNumber + rowCounter + AMTime + '/wednesday">' + wed07Stado + '</span></br><span>Precio: </span><span class="row_data_precio" edit_type="click" col_name_precio="' + AMTimeNumber + rowCounter + AMTime + '/wednesday">' + wed07Precio + 'Gs</span></br><span>Capacity: </span><span class="row_data_capacity" edit_type="click" col_name_capacity="' + AMTimeNumber + rowCounter + AMTime + '/wednesday">' + wed07Capacity + '</span></br></br><span>Member Numbers: </span><span class="row_data_membersNumbers" edit_type="click" col_name_membersNumbers="' + AMTimeNumber + rowCounter + AMTime + '/wednesday">' + wed07MembersNumbers + '</span></br></br><span>Porcentaje Lleno: </span><span class="row_data_percentage" edit_type="click" col_name_percentage="' + AMTimeNumber + rowCounter + AMTime + '/wednesday">' + wed07MembersPercentage + '%</span></td>';
                td4.innerHTML = '<td ><div class="row_data" edit_type="click" col_name="' + AMTimeNumber + rowCounter + AMTime + '/thursday">' + thurs07StatusTag + '</div></td></br></br><span class="row_data_stado" row_id_stado="' + row_id + '" edit_type="click" col_name_stado="' + AMTimeNumber + rowCounter + AMTime + '/thursday">' + thurs07Stado + '</span></br><span>Precio: </span><span class="row_data_precio" edit_type="click" col_name_precio="' + AMTimeNumber + rowCounter + AMTime + '/thursday">' + thurs07Precio + 'Gs</span></br><span>Capacity: </span><span class="row_data_capacity" edit_type="click" col_name_capacity="' + AMTimeNumber + rowCounter + AMTime + '/thursday">' + thurs07Capacity + '</span></br></br><span>Member Numbers: </span><span class="row_data_membersNumbers" edit_type="click" col_name_membersNumbers="' + AMTimeNumber + rowCounter + AMTime + '/thursday">' + thurs07MembersNumbers + '</span></br></br><span>Porcentaje Lleno: </span><span class="row_data_percentage" edit_type="click" col_name_percentage="' + AMTimeNumber + rowCounter + AMTime + '/thursday">' + thurs07MembersPercentage + '%</span></td>';
                td5.innerHTML = '<td ><div class="row_data" edit_type="click" col_name="' + AMTimeNumber + rowCounter + AMTime + '/friday">' + fri07StatusTag + '</div></td></br></br><span class="row_data_stado" row_id_stado="' + row_id + '" edit_type="click" col_name_stado="' + AMTimeNumber + rowCounter + AMTime + '/friday">' + fri07Stado + '</span></br><span>Precio: </span><span class="row_data_precio" edit_type="click" col_name_precio="' + AMTimeNumber + rowCounter + AMTime + '/friday">' + fri07Precio + 'Gs</span></br><span>Capacity: </span><span class="row_data_capacity" edit_type="click" col_name_capacity="' + AMTimeNumber + rowCounter + AMTime + '/friday">' + fri07Capacity + '</span></br></br><span>Member Numbers: </span><span class="row_data_membersNumbers" edit_type="click" col_name_membersNumbers="' + AMTimeNumber + rowCounter + AMTime + '/friday">' + fri07MembersNumbers + '</span></br></br><span>Porcentaje Lleno: </span><span class="row_data_percentage" edit_type="click" col_name_percentage="' + AMTimeNumber + rowCounter + AMTime + '/friday">' + fri07MembersPercentage + '%</span></td>';
                td6.innerHTML = '<td ><div class="row_data" edit_type="click" col_name="' + AMTimeNumber + rowCounter + AMTime + '/saturday">' + sat07StatusTag + '</div></td></br></br><span class="row_data_stado" row_id_stado="' + row_id + '" edit_type="click" col_name_stado="' + AMTimeNumber + rowCounter + AMTime + '/saturday">' + sat07Stado + '</span></br><span>Precio: </span><span class="row_data_precio" edit_type="click" col_name_precio="' + AMTimeNumber + rowCounter + AMTime + '/saturday">' + sat07Precio + 'Gs</span></br><span>Capacity: </span><span class="row_data_capacity" edit_type="click" col_name_capacity="' + AMTimeNumber + rowCounter + AMTime + '/saturday">' + sat07Capacity + '</span></br></br><span>Member Numbers: </span><span class="row_data_membersNumbers" edit_type="click" col_name_membersNumbers="' + AMTimeNumber + rowCounter + AMTime + '/saturday">' + sat07MembersNumbers + '</span></br></br><span>Porcentaje Lleno: </span><span class="row_data_percentage" edit_type="click" col_name_percentage="' + AMTimeNumber + rowCounter + AMTime + '/saturday">' + sat07MembersPercentage + '%</span></td>';
                td7.innerHTML = '<td ><div class="row_data" edit_type="click" col_name="' + AMTimeNumber + rowCounter + AMTime + '/sunday">' + sun07StatusTag + '</div></td></br></br><span class="row_data_stado" row_id_stado="' + row_id + '" edit_type="click" col_name_stado="' + AMTimeNumber + rowCounter + AMTime + '/sunday">' + sun07Stado + '</span></br><span>Precio: </span><span class="row_data_precio" edit_type="click" col_name_precio="' + AMTimeNumber + rowCounter + AMTime + '/sunday">' + sun07Precio + 'Gs</span></br><span>Capacity: </span><span class="row_data_capacity" edit_type="click" col_name_capacity="' + AMTimeNumber + rowCounter + AMTime + '/sunday">' + sun07Capacity + '</span></br></br><span>Member Numbers: </span><span class="row_data_membersNumbers" edit_type="click" col_name_membersNumbers="' + AMTimeNumber + rowCounter + AMTime + '/sunday">' + sun07MembersNumbers + '</span></br></br><span>Porcentaje Lleno: </span><span class="row_data_percentage" edit_type="click" col_name_percentage="' + AMTimeNumber + rowCounter + AMTime + '/sunday">' + sun07MembersPercentage + '%</span></td>';
                // td8.innerHTML = '<td><span class="btn_edit" > <a href="#" class="btn btn-link " "row_id="' + row_id + '" >Edit</a> </span><span class="btn_save"> <a href="#" class="btn btn-link"  row_id="' + row_id + '"> Save</a> | </span><span class="btn_cancel"> <a href="#" class="btn btn-link" row_id="' + row_id + '"> Cancel</a> | </span></td>';

                trow.innerHTML = `<th scope="row">` + counterStart++ + `:00 - ` + counterEnd++ + `:00</th>`

                $(document).find('.btn_save').hide();
                $(document).find('.btn_cancel').hide();

                trow.appendChild(td1);
                trow.appendChild(td2);
                trow.appendChild(td3);
                trow.appendChild(td4);
                trow.appendChild(td5);
                trow.appendChild(td6);
                trow.appendChild(td7);
                // trow.appendChild(td8);
                tbody.appendChild(trow);
                rowCounter++;
            }
            // var firstName;
            // function getUsers(dataRef) {
            //     var firstName;
            //         var lastName;
            //         dataRef.once('child_added', function (snapshot) {
            //             var message = snapshot.val();
            //             var id = snapshot.key;
            //             firstName = message.firstName;
            //             lastName = message.lastName;
            //             console.log(firstName, lastName);
            //         }).then;
            //         return firstName;
            //     // var test = firebase.database().ref('classes/06AM/monday').once('value')
            //     // // var test = dataRef.once('value')
            //     //     .then(function (snapshot) {
            //     //         // var email = snapshot.val();
            //     //         var log = snapshot.child('patrons').val();
            //     //         var userName = log.firstName;
            //     //         console.log(userName);
            //     //         return userName;
            //     //     })
            //     // console.log(test);
            // }
        </script>

        <div class="container text-center">
            <button onclick="location.reload();">Reload page to save changes</button>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading"><b></b> </div>

            <div class="panel-body">

                <div class="tbl_user_data"></div>

            </div>

        </div>

        <div class="panel panel-default">
            <div class="panel-heading"><b>HTML Table Edits/Updates</b> </div>

            <div class="panel-body">

                <p>All the changes will be displayed below</p>
                <div class="post_msg"> </div>

            </div>
        </div>
    </main>

    <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-database.js"></script>

    <script>
        // Initialize Firebase
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAv4r9MyOZKp8mop4FJl7nhpXFnT4_QZFM",
            authDomain: "baumanntennis-af590.firebaseapp.com",
            databaseURL: "https://baumanntennis-af590-default-rtdb.firebaseio.com",
            projectId: "baumanntennis-af590",
            storageBucket: "baumanntennis-af590.appspot.com",
            messagingSenderId: "72178440964",
            appId: "1:72178440964:web:30dbeb61874b3ea5cc4e51",
            measurementId: "G-P03D4PZRMV"
        };
        firebase.initializeApp(firebaseConfig);

        // make auth and firestore references
        const auth = firebase.auth();
        const db = firebase.firestore();

        // update firestore settings
        db.settings({ timestampsInSnapshots: true });

    </script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/index.js"></script>
    <!-- <script src="scripts/registrar.js"></script> -->
</body>

</html>